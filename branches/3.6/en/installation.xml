<?xml version="1.0" encoding="utf-8" ?>

<chapter id="installation">
  <title>Installing PHPUnit</title>

  <para>
    PHPUnit should be installed using the PEAR Installer, the backbone of the
    <ulink url="http://pear.php.net/">PHP Extension and Application
    Repository</ulink> that provides a distribution system for PHP packages.
  </para>

  <caution>
    <para>
      Depending on your OS distribution and/or your PHP environment, you may
      need to install PEAR or update your existing PEAR installation before
      you can proceed with the instructions in this chapter.
    </para>

    <para>
      <userinput>sudo pear upgrade PEAR</userinput> usually suffices to
      upgrade an existing PEAR installation. <ulink
      url="http://pear.php.net/manual/en/installation.getting.php">PEAR
      Manual</ulink> explains how to perform a fresh installation of PEAR.
    </para>
  </caution>

  <note>
    <para>
      PHPUnit 3.6 requires PHP 5.2.7 (or later) but PHP 5.3.8 (or later) is
      highly recommended.
    </para>

    <para>
      PHP_CodeCoverage, the library that is used by PHPUnit 3.6 to collect and
      process code coverage information, depends on Xdebug 2.0.5 (or later) but
      Xdebug 2.1.2 (or later) is highly recommended.
    </para>
  </note>

  <para>
    The PEAR channel (<systemitem role="URL">pear.phpunit.de</systemitem>) that
    is used to distribute PHPUnit needs to be registered with the local PEAR
    environment. Furthermore, components that PHPUnit depends upon are hosted on
    additional PEAR channels.
  </para>

  <screen><userinput>pear channel-discover pear.phpunit.de</userinput></screen>
  <screen><userinput>pear channel-discover components.ez.no</userinput></screen>
  <screen><userinput>pear channel-discover pear.symfony-project.com</userinput></screen>

  <para>
    This has to be done only once. Now the PEAR Installer can be used to
    install packages from the PHPUnit channel:
  </para>

  <screen><userinput>pear install phpunit/PHPUnit</userinput></screen>

  <para>
    After the installation you can find the PHPUnit source files inside your
    local PEAR directory; the path is usually
    <filename>/usr/lib/php/PHPUnit</filename>.
  </para>
</chapter>
